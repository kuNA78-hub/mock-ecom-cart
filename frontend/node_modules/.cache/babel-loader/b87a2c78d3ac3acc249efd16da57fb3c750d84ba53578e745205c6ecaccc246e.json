{"ast":null,"code":"import axios from 'axios';\nconst API_BASE_URL = 'http://localhost:5000/api';\nconst api = axios.create({\n  baseURL: API_BASE_URL\n});\nexport const productAPI = {\n  getProducts: () => api.get('/products').then(response => response.data),\n  getProduct: id => api.get(`/products/${id}`).then(response => response.data)\n};\nexport const cartAPI = {\n  getCart: () => api.get('/cart').then(response => response.data),\n  addToCart: (productId, quantity = 1) => {\n    // Send multiple requests for quantity > 1\n    const requests = Array(quantity).fill(null).map(() => api.post('/cart', {\n      productId,\n      quantity: 1\n    }));\n    return Promise.all(requests).then(() => ({\n      success: true\n    }));\n  },\n  removeFromCart: cartItemId => api.delete(`/cart/${cartItemId}`).then(response => response.data),\n  // New method to update quantity directly\n  updateQuantity: (cartItemId, quantity) => {\n    if (quantity <= 0) {\n      return cartAPI.removeFromCart(cartItemId);\n    }\n    // For this mock API, we'll remove and re-add\n    return api.delete(`/cart/${cartItemId}`).then(() => cartAPI.addToCart(cartItemId, quantity));\n  }\n};\nexport const checkoutAPI = {\n  checkout: customerInfo => api.post('/checkout', {\n    customerInfo\n  }).then(response => response.data)\n};","map":{"version":3,"names":["axios","API_BASE_URL","api","create","baseURL","productAPI","getProducts","get","then","response","data","getProduct","id","cartAPI","getCart","addToCart","productId","quantity","requests","Array","fill","map","post","Promise","all","success","removeFromCart","cartItemId","delete","updateQuantity","checkoutAPI","checkout","customerInfo"],"sources":["C:/Users/kunal/mock-ecom-cart/frontend/src/api.ts"],"sourcesContent":["import axios from 'axios';\r\nimport { Product, Cart, CustomerInfo, Receipt } from './types';\r\n\r\nconst API_BASE_URL = 'http://localhost:5000/api';\r\n\r\nconst api = axios.create({\r\n  baseURL: API_BASE_URL,\r\n});\r\n\r\nexport const productAPI = {\r\n  getProducts: (): Promise<Product[]> =>\r\n    api.get('/products').then(response => response.data),\r\n  \r\n  getProduct: (id: string): Promise<Product> =>\r\n    api.get(`/products/${id}`).then(response => response.data),\r\n};\r\n\r\nexport const cartAPI = {\r\n  getCart: (): Promise<Cart> =>\r\n    api.get('/cart').then(response => response.data),\r\n  \r\n  addToCart: (productId: string, quantity: number = 1): Promise<any> => {\r\n    // Send multiple requests for quantity > 1\r\n    const requests = Array(quantity).fill(null).map(() => \r\n      api.post('/cart', { productId, quantity: 1 })\r\n    );\r\n    return Promise.all(requests).then(() => ({ success: true }));\r\n  },\r\n  \r\n  removeFromCart: (cartItemId: string): Promise<any> =>\r\n    api.delete(`/cart/${cartItemId}`).then(response => response.data),\r\n  \r\n  // New method to update quantity directly\r\n  updateQuantity: (cartItemId: string, quantity: number): Promise<any> => {\r\n    if (quantity <= 0) {\r\n      return cartAPI.removeFromCart(cartItemId);\r\n    }\r\n    // For this mock API, we'll remove and re-add\r\n    return api.delete(`/cart/${cartItemId}`).then(() => \r\n      cartAPI.addToCart(cartItemId, quantity)\r\n    );\r\n  }\r\n};\r\n\r\nexport const checkoutAPI = {\r\n  checkout: (customerInfo: CustomerInfo): Promise<Receipt> =>\r\n    api.post('/checkout', { customerInfo }).then(response => response.data),\r\n};"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAGzB,MAAMC,YAAY,GAAG,2BAA2B;AAEhD,MAAMC,GAAG,GAAGF,KAAK,CAACG,MAAM,CAAC;EACvBC,OAAO,EAAEH;AACX,CAAC,CAAC;AAEF,OAAO,MAAMI,UAAU,GAAG;EACxBC,WAAW,EAAEA,CAAA,KACXJ,GAAG,CAACK,GAAG,CAAC,WAAW,CAAC,CAACC,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,CAAC;EAEtDC,UAAU,EAAGC,EAAU,IACrBV,GAAG,CAACK,GAAG,CAAC,aAAaK,EAAE,EAAE,CAAC,CAACJ,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI;AAC7D,CAAC;AAED,OAAO,MAAMG,OAAO,GAAG;EACrBC,OAAO,EAAEA,CAAA,KACPZ,GAAG,CAACK,GAAG,CAAC,OAAO,CAAC,CAACC,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,CAAC;EAElDK,SAAS,EAAEA,CAACC,SAAiB,EAAEC,QAAgB,GAAG,CAAC,KAAmB;IACpE;IACA,MAAMC,QAAQ,GAAGC,KAAK,CAACF,QAAQ,CAAC,CAACG,IAAI,CAAC,IAAI,CAAC,CAACC,GAAG,CAAC,MAC9CnB,GAAG,CAACoB,IAAI,CAAC,OAAO,EAAE;MAAEN,SAAS;MAAEC,QAAQ,EAAE;IAAE,CAAC,CAC9C,CAAC;IACD,OAAOM,OAAO,CAACC,GAAG,CAACN,QAAQ,CAAC,CAACV,IAAI,CAAC,OAAO;MAAEiB,OAAO,EAAE;IAAK,CAAC,CAAC,CAAC;EAC9D,CAAC;EAEDC,cAAc,EAAGC,UAAkB,IACjCzB,GAAG,CAAC0B,MAAM,CAAC,SAASD,UAAU,EAAE,CAAC,CAACnB,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,CAAC;EAEnE;EACAmB,cAAc,EAAEA,CAACF,UAAkB,EAAEV,QAAgB,KAAmB;IACtE,IAAIA,QAAQ,IAAI,CAAC,EAAE;MACjB,OAAOJ,OAAO,CAACa,cAAc,CAACC,UAAU,CAAC;IAC3C;IACA;IACA,OAAOzB,GAAG,CAAC0B,MAAM,CAAC,SAASD,UAAU,EAAE,CAAC,CAACnB,IAAI,CAAC,MAC5CK,OAAO,CAACE,SAAS,CAACY,UAAU,EAAEV,QAAQ,CACxC,CAAC;EACH;AACF,CAAC;AAED,OAAO,MAAMa,WAAW,GAAG;EACzBC,QAAQ,EAAGC,YAA0B,IACnC9B,GAAG,CAACoB,IAAI,CAAC,WAAW,EAAE;IAAEU;EAAa,CAAC,CAAC,CAACxB,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI;AAC1E,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}